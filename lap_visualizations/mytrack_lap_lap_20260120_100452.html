<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>MGSA Track Compare - mytrack</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    html, body, #map { height: 100%; margin: 0; }
    .panel {
      position: absolute; top: 10px; left: 10px; z-index: 9999;
      background: rgba(255,255,255,0.95); padding: 10px 12px; border-radius: 8px;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      max-width: 360px;
    }
    .row { display: flex; gap: 8px; align-items: center; margin: 4px 0; }
    .sw { width: 12px; height: 12px; border-radius: 3px; }
  </style>
</head>
<body>
<div id="map"></div>
<div class="panel">
  <div><b>MGSA Track Compare - mytrack</b></div>
  <div style="font-size:12px; opacity:0.8;">boundaries + racing lines</div>
  <hr/>
  <div id="legend"></div>
</div>

<script>
  const map = L.map('map').setView([42.69769707, 23.32190418], 17);
  L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 20,
    attribution: '&copy; OpenStreetMap'
  }).addTo(map);

  function addLegend(name) {
    const el = document.createElement('div');
    el.textContent = name;
    document.getElementById('legend').appendChild(el);
  }

  const bounds = [];

  const outer = [[42.69760238,23.32353750],[42.69761593,23.32353430],[42.69762972,23.32353054],[42.69764374,23.32352622],[42.69765795,23.32352134],[42.69767235,23.32351589],[42.69768691,23.32350989],[42.69770162,23.32350334],[42.69771646,23.32349623],[42.69773141,23.32348858],[42.69774645,23.32348039],[42.69776156,23.32347166],[42.69777672,23.32346241],[42.69779192,23.32345263],[42.69780713,23.32344234],[42.69782234,23.32343153],[42.69783752,23.32342023],[42.69785267,23.32340844],[42.69786776,23.32339616],[42.69788277,23.32338341],[42.69789769,23.32337019],[42.69791250,23.32335651],[42.69792718,23.32334239],[42.69794171,23.32332784],[42.69795608,23.32331285],[42.69797028,23.32329745],[42.69798428,23.32328165],[42.69799808,23.32326545],[42.69801165,23.32324886],[42.69802499,23.32323190],[42.69803807,23.32321459],[42.69805090,23.32319692],[42.69806344,23.32317891],[42.69807571,23.32316057],[42.69808767,23.32314191],[42.69809932,23.32312295],[42.69811065,23.32310370],[42.69812166,23.32308416],[42.69813233,23.32306434],[42.69814265,23.32304427],[42.69815262,23.32302395],[42.69816224,23.32300338],[42.69817148,23.32298259],[42.69818036,23.32296157],[42.69818887,23.32294035],[42.69819699,23.32291893],[42.69820474,23.32289732],[42.69821210,23.32287552],[42.69821907,23.32285356],[42.69822566,23.32283143],[42.69823185,23.32280916],[42.69823766,23.32278673],[42.69824309,23.32276418],[42.69824812,23.32274149],[42.69825277,23.32271869],[42.69825704,23.32269577],[42.69826092,23.32267276],[42.69826443,23.32264964],[42.69826756,23.32262645],[42.69827033,23.32260317],[42.69827272,23.32257982],[42.69827476,23.32255641],[42.69827644,23.32253294],[42.69827778,23.32250943],[42.69827877,23.32248587],[42.69827943,23.32246229],[42.69827975,23.32243868],[42.69827976,23.32241506],[42.69827946,23.32239143],[42.69827885,23.32236780],[42.69827795,23.32234418],[42.69827677,23.32232058],[42.69827531,23.32229700],[42.69827358,23.32227346],[42.69827161,23.32224996],[42.69826939,23.32222650],[42.69826694,23.32220311],[42.69826427,23.32217978],[42.69826139,23.32215653],[42.69825832,23.32213336],[42.69825507,23.32211028],[42.69825165,23.32208729],[42.69824806,23.32206441],[42.69824434,23.32204163],[42.69824048,23.32201898],[42.69823650,23.32199645],[42.69823242,23.32197405],[42.69822825,23.32195178],[42.69822399,23.32192966],[42.69821967,23.32190769],[42.69821529,23.32188587],[42.69821088,23.32186420],[42.69820643,23.32184271],[42.69820196,23.32182138],[42.69819750,23.32180022],[42.69819303,23.32177925],[42.69818859,23.32175845],[42.69818418,23.32173784],[42.69817980,23.32171741],[42.69817548,23.32169718],[42.69817122,23.32167715],[42.69816703,23.32165731],[42.69816292,23.32163767],[42.69815890,23.32161823],[42.69815498,23.32159900],[42.69815116,23.32157997],[42.69814746,23.32156115],[42.69814387,23.32154254],[42.69814041,23.32152415],[42.69813709,23.32150596],[42.69813390,23.32148799],[42.69813085,23.32147024],[42.69812795,23.32145270],[42.69812521,23.32143538],[42.69812261,23.32141828],[42.69812017,23.32140140],[42.69811789,23.32138475],[42.69811577,23.32136831],[42.69811380,23.32135211],[42.69811199,23.32133613],[42.69811035,23.32132038],[42.69810885,23.32130486],[42.69810752,23.32128958],[42.69810633,23.32127454],[42.69810529,23.32125973],[42.69810439,23.32124517],[42.69810363,23.32123085],[42.69810300,23.32121678],[42.69810249,23.32120296],[42.69810210,23.32118940],[42.69810182,23.32117610],[42.69810164,23.32116306],[42.69810155,23.32115029],[42.69810154,23.32113779],[42.69810160,23.32112557],[42.69810172,23.32111363],[42.69810189,23.32110197],[42.69810209,23.32109060],[42.69810231,23.32107952],[42.69810255,23.32106875],[42.69810279,23.32105827],[42.69810301,23.32104811],[42.69810321,23.32103825],[42.69810338,23.32102872],[42.69810349,23.32101951],[42.69810356,23.32101063],[42.69810355,23.32100208],[42.69810347,23.32099387],[42.69810330,23.32098601],[42.69810305,23.32097849],[42.69810270,23.32097131],[42.69810226,23.32096449],[42.69810171,23.32095801],[42.69810107,23.32095187],[42.69810033,23.32094605],[42.69809948,23.32094056],[42.69809854,23.32093535],[42.69809750,23.32093042],[42.69809635,23.32092573],[42.69809510,23.32092125],[42.69809373,23.32091693],[42.69809223,23.32091275],[42.69809059,23.32090865],[42.69808878,23.32090461],[42.69808678,23.32090058],[42.69808457,23.32089654],[42.69808212,23.32089247],[42.69807940,23.32088833],[42.69807638,23.32088413],[42.69807304,23.32087986],[42.69806936,23.32087551],[42.69806532,23.32087108],[42.69806090,23.32086660],[42.69805609,23.32086206],[42.69805088,23.32085747],[42.69804527,23.32085284],[42.69803923,23.32084819],[42.69803278,23.32084352],[42.69802592,23.32083885],[42.69801864,23.32083419],[42.69801094,23.32082954],[42.69800283,23.32082491],[42.69799432,23.32082031],[42.69798541,23.32081575],[42.69797609,23.32081124],[42.69796640,23.32080677],[42.69795631,23.32080236],[42.69794586,23.32079801],[42.69793504,23.32079372],[42.69792387,23.32078951],[42.69791235,23.32078537],[42.69790049,23.32078130],[42.69788831,23.32077732],[42.69787581,23.32077342],[42.69786302,23.32076961],[42.69784993,23.32076590],[42.69783657,23.32076228],[42.69782294,23.32075876],[42.69780907,23.32075535],[42.69779496,23.32075204],[42.69778062,23.32074885],[42.69776608,23.32074577],[42.69775135,23.32074281],[42.69773644,23.32073997],[42.69772137,23.32073726],[42.69770616,23.32073468],[42.69769082,23.32073223],[42.69767536,23.32072993],[42.69765982,23.32072777],[42.69764420,23.32072576],[42.69762852,23.32072390],[42.69761280,23.32072219],[42.69759706,23.32072065],[42.69758132,23.32071927],[42.69756558,23.32071807],[42.69754988,23.32071704],[42.69753423,23.32071619],[42.69751865,23.32071552],[42.69750316,23.32071505],[42.69748777,23.32071476],[42.69747251,23.32071468],[42.69745739,23.32071480],[42.69744243,23.32071512],[42.69742766,23.32071566],[42.69741308,23.32071641],[42.69739872,23.32071738],[42.69738459,23.32071857],[42.69737071,23.32071999],[42.69735711,23.32072163],[42.69734379,23.32072351],[42.69733078,23.32072562],[42.69731809,23.32072797],[42.69730574,23.32073055],[42.69729374,23.32073337],[42.69728212,23.32073642],[42.69727088,23.32073971],[42.69726004,23.32074323],[42.69724963,23.32074697],[42.69723964,23.32075093],[42.69723009,23.32075511],[42.69722099,23.32075949],[42.69721236,23.32076406],[42.69720419,23.32076883],[42.69719650,23.32077376],[42.69718927,23.32077885],[42.69718252,23.32078409],[42.69717623,23.32078947],[42.69717040,23.32079497],[42.69716500,23.32080059],[42.69716002,23.32080632],[42.69715543,23.32081218],[42.69715121,23.32081817],[42.69714733,23.32082431],[42.69714377,23.32083063],[42.69714049,23.32083716],[42.69713748,23.32084396],[42.69713472,23.32085105],[42.69713219,23.32085850],[42.69712989,23.32086634],[42.69712782,23.32087462],[42.69712599,23.32088339],[42.69712439,23.32089266],[42.69712303,23.32090247],[42.69712193,23.32091283],[42.69712110,23.32092375],[42.69712053,23.32093525],[42.69712024,23.32094733],[42.69712023,23.32095998],[42.69712051,23.32097319],[42.69712107,23.32098697],[42.69712192,23.32100130],[42.69712305,23.32101617],[42.69712445,23.32103158],[42.69712612,23.32104752],[42.69712805,23.32106396],[42.69713023,23.32108091],[42.69713265,23.32109836],[42.69713531,23.32111628],[42.69713818,23.32113468],[42.69714126,23.32115355],[42.69714453,23.32117287],[42.69714798,23.32119263],[42.69715160,23.32121284],[42.69715538,23.32123347],[42.69715929,23.32125452],[42.69716333,23.32127598],[42.69716748,23.32129784],[42.69717173,23.32132010],[42.69717607,23.32134275],[42.69718047,23.32136577],[42.69718492,23.32138915],[42.69718942,23.32141290],[42.69719395,23.32143700],[42.69719849,23.32146143],[42.69720303,23.32148620],[42.69720757,23.32151129],[42.69721208,23.32153670],[42.69721655,23.32156240],[42.69722098,23.32158840],[42.69722535,23.32161469],[42.69722966,23.32164124],[42.69723388,23.32166806],[42.69723802,23.32169513],[42.69724206,23.32172244],[42.69724600,23.32174998],[42.69724982,23.32177773],[42.69725352,23.32180569],[42.69725710,23.32183385],[42.69726054,23.32186219],[42.69726384,23.32189069],[42.69726699,23.32191936],[42.69727000,23.32194817],[42.69727286,23.32197711],[42.69727556,23.32200618],[42.69727810,23.32203535],[42.69728049,23.32206461],[42.69728271,23.32209395],[42.69728478,23.32212336],[42.69728668,23.32215282],[42.69728843,23.32218232],[42.69729002,23.32221185],[42.69729146,23.32224138],[42.69729274,23.32227092],[42.69729388,23.32230043],[42.69729488,23.32232992],[42.69729574,23.32235936],[42.69729647,23.32238874],[42.69729707,23.32241805],[42.69729755,23.32244726],[42.69729792,23.32247638],[42.69729819,23.32250537],[42.69729836,23.32253424],[42.69729845,23.32256295],[42.69729846,23.32259151],[42.69729840,23.32261989],[42.69729829,23.32264807],[42.69729813,23.32267605],[42.69729793,23.32270382],[42.69729771,23.32273134],[42.69729747,23.32275862],[42.69729723,23.32278563],[42.69729701,23.32281236],[42.69729680,23.32283880],[42.69729663,23.32286492],[42.69729651,23.32289073],[42.69729645,23.32291619],[42.69729645,23.32294130],[42.69729654,23.32296605],[42.69729673,23.32299041],[42.69729702,23.32301436],[42.69729744,23.32303791],[42.69729798,23.32306103],[42.69729867,23.32308370],[42.69729951,23.32310592],[42.69730051,23.32312766],[42.69730168,23.32314891],[42.69730304,23.32316966],[42.69730459,23.32318989],[42.69730633,23.32320959],[42.69730828,23.32322875],[42.69731045,23.32324734],[42.69731283,23.32326536],[42.69731542,23.32328279],[42.69731825,23.32329963],[42.69732129,23.32331586],[42.69732456,23.32333147],[42.69732806,23.32334646],[42.69733178,23.32336082],[42.69733572,23.32337454],[42.69733988,23.32338764],[42.69734425,23.32340011],[42.69734884,23.32341196],[42.69735363,23.32342320],[42.69735864,23.32343384],[42.69736385,23.32344390],[42.69736927,23.32345339],[42.69737491,23.32346235],[42.69738076,23.32347078],[42.69738685,23.32347872],[42.69739319,23.32348618],[42.69739978,23.32349319],[42.69740665,23.32349975],[42.69741381,23.32350588],[42.69742128,23.32351159],[42.69742908,23.32351687],[42.69743722,23.32352174],[42.69744571,23.32352617],[42.69745457,23.32353018],[42.69746379,23.32353373],[42.69747340,23.32353684],[42.69748338,23.32353947],[42.69749373,23.32354162],[42.69750445,23.32354327],[42.69751554,23.32354442],[42.69752698,23.32354505],[42.69753876,23.32354515],[42.69755088,23.32354472],[42.69756332,23.32354375],[42.69757605,23.32354222],[42.69758908,23.32354014]];
  const inner = [[42.69761938,23.32368234],[42.69763575,23.32367848],[42.69765224,23.32367398],[42.69766886,23.32366885],[42.69768558,23.32366311],[42.69770241,23.32365675],[42.69771932,23.32364978],[42.69773630,23.32364222],[42.69775334,23.32363406],[42.69777043,23.32362531],[42.69778755,23.32361599],[42.69780469,23.32360609],[42.69782183,23.32359562],[42.69783897,23.32358460],[42.69785608,23.32357302],[42.69787315,23.32356089],[42.69789017,23.32354823],[42.69790711,23.32353503],[42.69792397,23.32352131],[42.69794073,23.32350708],[42.69795737,23.32349233],[42.69797389,23.32347708],[42.69799025,23.32346134],[42.69800645,23.32344512],[42.69802247,23.32342841],[42.69803830,23.32341124],[42.69805391,23.32339361],[42.69806931,23.32337554],[42.69808447,23.32335702],[42.69809937,23.32333806],[42.69811401,23.32331869],[42.69812837,23.32329890],[42.69814243,23.32327872],[42.69815619,23.32325814],[42.69816963,23.32323718],[42.69818274,23.32321585],[42.69819551,23.32319416],[42.69820792,23.32317212],[42.69821997,23.32314974],[42.69823164,23.32312704],[42.69824294,23.32310403],[42.69825383,23.32308071],[42.69826433,23.32305711],[42.69827442,23.32303323],[42.69828409,23.32300910],[42.69829334,23.32298471],[42.69830216,23.32296008],[42.69831056,23.32293524],[42.69831851,23.32291018],[42.69832603,23.32288494],[42.69833310,23.32285951],[42.69833973,23.32283392],[42.69834592,23.32280818],[42.69835166,23.32278230],[42.69835696,23.32275631],[42.69836182,23.32273020],[42.69836624,23.32270401],[42.69837023,23.32267774],[42.69837379,23.32265140],[42.69837692,23.32262501],[42.69837964,23.32259860],[42.69838194,23.32257215],[42.69838383,23.32254571],[42.69838533,23.32251926],[42.69838645,23.32249284],[42.69838718,23.32246645],[42.69838755,23.32244010],[42.69838756,23.32241381],[42.69838722,23.32238758],[42.69838655,23.32236144],[42.69838555,23.32233538],[42.69838425,23.32230942],[42.69838265,23.32228358],[42.69838077,23.32225785],[42.69837862,23.32223225],[42.69837621,23.32220680],[42.69837356,23.32218149],[42.69837068,23.32215634],[42.69836759,23.32213135],[42.69836430,23.32210653],[42.69836083,23.32208190],[42.69835719,23.32205745],[42.69835339,23.32203320],[42.69834946,23.32200915],[42.69834540,23.32198530],[42.69834123,23.32196167],[42.69833696,23.32193827],[42.69833262,23.32191508],[42.69832820,23.32189213],[42.69832373,23.32186942],[42.69831923,23.32184695],[42.69831469,23.32182473],[42.69831015,23.32180275],[42.69830560,23.32178104],[42.69830107,23.32175958],[42.69829656,23.32173839],[42.69829209,23.32171746],[42.69828767,23.32169681],[42.69828331,23.32167643],[42.69827901,23.32165633],[42.69827480,23.32163651],[42.69827067,23.32161697],[42.69826664,23.32159771],[42.69826272,23.32157875],[42.69825891,23.32156007],[42.69825522,23.32154168],[42.69825166,23.32152358],[42.69824823,23.32150577],[42.69824493,23.32148826],[42.69824178,23.32147104],[42.69823878,23.32145411],[42.69823593,23.32143747],[42.69823322,23.32142112],[42.69823068,23.32140506],[42.69822828,23.32138929],[42.69822604,23.32137380],[42.69822396,23.32135860],[42.69822203,23.32134367],[42.69822025,23.32132902],[42.69821863,23.32131463],[42.69821715,23.32130052],[42.69821582,23.32128667],[42.69821463,23.32127307],[42.69821357,23.32125972],[42.69821265,23.32124661],[42.69821186,23.32123373],[42.69821119,23.32122109],[42.69821063,23.32120866],[42.69821018,23.32119644],[42.69820984,23.32118443],[42.69820959,23.32117261],[42.69820943,23.32116097],[42.69820935,23.32114950],[42.69820934,23.32113820],[42.69820939,23.32112705],[42.69820950,23.32111604],[42.69820966,23.32110516],[42.69820985,23.32109441],[42.69821007,23.32108376],[42.69821030,23.32107320],[42.69821054,23.32106273],[42.69821077,23.32105234],[42.69821097,23.32104200],[42.69821115,23.32103171],[42.69821128,23.32102146],[42.69821135,23.32101123],[42.69821134,23.32100101],[42.69821124,23.32099079],[42.69821103,23.32098056],[42.69821068,23.32097031],[42.69821018,23.32096002],[42.69820951,23.32094969],[42.69820863,23.32093932],[42.69820754,23.32092891],[42.69820620,23.32091846],[42.69820459,23.32090797],[42.69820268,23.32089747],[42.69820045,23.32088696],[42.69819789,23.32087647],[42.69819496,23.32086603],[42.69819167,23.32085567],[42.69818800,23.32084543],[42.69818395,23.32083533],[42.69817951,23.32082542],[42.69817470,23.32081572],[42.69816952,23.32080625],[42.69816398,23.32079704],[42.69815810,23.32078810],[42.69815188,23.32077944],[42.69814534,23.32077106],[42.69813849,23.32076295],[42.69813133,23.32075512],[42.69812387,23.32074754],[42.69811611,23.32074022],[42.69810807,23.32073313],[42.69809973,23.32072626],[42.69809110,23.32071961],[42.69808218,23.32071315],[42.69807297,23.32070689],[42.69806346,23.32070079],[42.69805366,23.32069487],[42.69804356,23.32068910],[42.69803316,23.32068349],[42.69802246,23.32067801],[42.69801146,23.32067268],[42.69800016,23.32066748],[42.69798857,23.32066241],[42.69797668,23.32065746],[42.69796450,23.32065263],[42.69795203,23.32064793],[42.69793928,23.32064334],[42.69792625,23.32063887],[42.69791294,23.32063452],[42.69789937,23.32063029],[42.69788554,23.32062617],[42.69787146,23.32062218],[42.69785713,23.32061830],[42.69784258,23.32061454],[42.69782780,23.32061090],[42.69781281,23.32060739],[42.69779762,23.32060401],[42.69778224,23.32060075],[42.69776669,23.32059762],[42.69775097,23.32059463],[42.69773510,23.32059178],[42.69771909,23.32058906],[42.69770296,23.32058649],[42.69768672,23.32058407],[42.69767038,23.32058180],[42.69765396,23.32057968],[42.69763748,23.32057773],[42.69762095,23.32057594],[42.69760439,23.32057431],[42.69758780,23.32057287],[42.69757121,23.32057159],[42.69755463,23.32057051],[42.69753808,23.32056961],[42.69752156,23.32056890],[42.69750511,23.32056840],[42.69748872,23.32056809],[42.69747243,23.32056800],[42.69745623,23.32056813],[42.69744014,23.32056848],[42.69742419,23.32056906],[42.69740837,23.32056987],[42.69739271,23.32057093],[42.69737722,23.32057224],[42.69736190,23.32057380],[42.69734678,23.32057563],[42.69733185,23.32057774],[42.69731714,23.32058013],[42.69730265,23.32058281],[42.69728839,23.32058579],[42.69727436,23.32058909],[42.69726058,23.32059270],[42.69724706,23.32059666],[42.69723379,23.32060097],[42.69722079,23.32060564],[42.69720807,23.32061069],[42.69719562,23.32061613],[42.69718345,23.32062200],[42.69717157,23.32062829],[42.69716000,23.32063505],[42.69714872,23.32064227],[42.69713777,23.32065000],[42.69712715,23.32065825],[42.69711687,23.32066704],[42.69710695,23.32067639],[42.69709742,23.32068631],[42.69708830,23.32069681],[42.69707962,23.32070790],[42.69707140,23.32071958],[42.69706366,23.32073182],[42.69705645,23.32074461],[42.69704978,23.32075793],[42.69704366,23.32077172],[42.69703812,23.32078596],[42.69703315,23.32080059],[42.69702875,23.32081559],[42.69702493,23.32083090],[42.69702165,23.32084650],[42.69701891,23.32086236],[42.69701669,23.32087845],[42.69701496,23.32089475],[42.69701369,23.32091127],[42.69701286,23.32092799],[42.69701246,23.32094491],[42.69701245,23.32096204],[42.69701281,23.32097938],[42.69701353,23.32099693],[42.69701457,23.32101470],[42.69701594,23.32103271],[42.69701759,23.32105095],[42.69701953,23.32106944],[42.69702173,23.32108819],[42.69702418,23.32110719],[42.69702685,23.32112646],[42.69702974,23.32114601],[42.69703284,23.32116583],[42.69703612,23.32118593],[42.69703957,23.32120631],[42.69704318,23.32122698],[42.69704694,23.32124793],[42.69705082,23.32126917],[42.69705483,23.32129070],[42.69705893,23.32131252],[42.69706313,23.32133462],[42.69706740,23.32135701],[42.69707174,23.32137968],[42.69707613,23.32140263],[42.69708056,23.32142586],[42.69708501,23.32144936],[42.69708947,23.32147314],[42.69709394,23.32149717],[42.69709840,23.32152147],[42.69710283,23.32154602],[42.69710724,23.32157082],[42.69711160,23.32159587],[42.69711591,23.32162115],[42.69712015,23.32164667],[42.69712432,23.32167241],[42.69712841,23.32169837],[42.69713241,23.32172454],[42.69713632,23.32175091],[42.69714011,23.32177748],[42.69714380,23.32180424],[42.69714736,23.32183117],[42.69715081,23.32185828],[42.69715412,23.32188555],[42.69715729,23.32191297],[42.69716033,23.32194054],[42.69716322,23.32196824],[42.69716596,23.32199607],[42.69716856,23.32202402],[42.69717101,23.32205207],[42.69717330,23.32208022],[42.69717544,23.32210845],[42.69717743,23.32213676],[42.69717926,23.32216514],[42.69718095,23.32219357],[42.69718248,23.32222205],[42.69718387,23.32225057],[42.69718511,23.32227910],[42.69718622,23.32230765],[42.69718718,23.32233620],[42.69718801,23.32236474],[42.69718872,23.32239326],[42.69718930,23.32242174],[42.69718978,23.32245019],[42.69719014,23.32247857],[42.69719040,23.32250689],[42.69719057,23.32253513],[42.69719065,23.32256329],[42.69719066,23.32259134],[42.69719061,23.32261927],[42.69719049,23.32264709],[42.69719033,23.32267477],[42.69719014,23.32270230],[42.69718992,23.32272968],[42.69718968,23.32275688],[42.69718944,23.32278391],[42.69718922,23.32281074],[42.69718901,23.32283738],[42.69718884,23.32286380],[42.69718871,23.32289000],[42.69718865,23.32291597],[42.69718866,23.32294170],[42.69718875,23.32296717],[42.69718894,23.32299239],[42.69718925,23.32301734],[42.69718968,23.32304201],[42.69719026,23.32306639],[42.69719098,23.32309048],[42.69719188,23.32311427],[42.69719297,23.32313774],[42.69719425,23.32316091],[42.69719574,23.32318375],[42.69719746,23.32320626],[42.69719943,23.32322843],[42.69720165,23.32325027],[42.69720415,23.32327176],[42.69720694,23.32329289],[42.69721004,23.32331366],[42.69721346,23.32333407],[42.69721722,23.32335410],[42.69722134,23.32337375],[42.69722584,23.32339301],[42.69723072,23.32341187],[42.69723602,23.32343031],[42.69724174,23.32344831],[42.69724790,23.32346587],[42.69725451,23.32348296],[42.69726160,23.32349955],[42.69726916,23.32351563],[42.69727720,23.32353115],[42.69728574,23.32354610],[42.69729476,23.32356044],[42.69730427,23.32357413],[42.69731426,23.32358715],[42.69732471,23.32359947],[42.69733562,23.32361105],[42.69734696,23.32362189],[42.69735871,23.32363195],[42.69737085,23.32364122],[42.69738337,23.32364971],[42.69739622,23.32365739],[42.69740940,23.32366428],[42.69742289,23.32367038],[42.69743666,23.32367569],[42.69745070,23.32368022],[42.69746500,23.32368399],[42.69747954,23.32368701],[42.69749430,23.32368929],[42.69750928,23.32369085],[42.69752446,23.32369169],[42.69753985,23.32369182],[42.69755541,23.32369127],[42.69757116,23.32369003],[42.69758708,23.32368812],[42.69760315,23.32368556]];

  if (outer.length > 1) {
    const pl = L.polyline(outer).addTo(map);
    bounds.push(pl.getBounds());
    addLegend("outer boundary");
  }
  if (inner.length > 1) {
    const pl = L.polyline(inner).addTo(map);
    bounds.push(pl.getBounds());
    addLegend("inner boundary");
  }

  const lines = [["lap_lap_20260120_100452", [[42.714403121036085, 23.27484570763416], [42.714400621862545, 23.27485338950931], [42.71440519034477, 23.274850068521026], [42.71441105939854, 23.27485191070099], [42.714407050136714, 23.27484499791094], [42.71441350381261, 23.274853947931618], [42.714412455178504, 23.274852902044746], [42.71442173715121, 23.27484885341885], [42.7144265652032, 23.274846003903345], [42.71442116567878, 23.27485400023419], [42.71442857037182, 23.274843035772875], [42.714429945746524, 23.274853925566187], [42.71443312629829, 23.27484478350414], [42.71443413724196, 23.274842155617765], [42.714439409295096, 23.27484679278498], [42.71443983693306, 23.274843900672426], [42.714444697317774, 23.274843310975275], [42.7144435651121, 23.274843737572017], [42.714451171845425, 23.2748499669321], [42.714450641787884, 23.2748470846615], [42.714459492778225, 23.2748508455904], [42.71445754968982, 23.27483964076919], [42.71446374015812, 23.274846409384054], [42.71446393065438, 23.274848436617972], [42.7144689444769, 23.2748465083646], [42.7144709822907, 23.274839415470748], [42.71447608299456, 23.274845815602834], [42.71447654654522, 23.274840497398237], [42.71447620630415, 23.27483400893824], [42.7144805140177, 23.27484257683101], [42.714484484592596, 23.274834157383754], [42.71448837204054, 23.274839825975526], [42.714489010456546, 23.27483497378097], [42.71449480984342, 23.274835744679976], [42.714494094953146, 23.274835007518853], [42.71449356863336, 23.27483370931599], [42.71450235741116, 23.274827311704072], [42.71450409848039, 23.27483783245969], [42.71450302607111, 23.27482962993878], [42.71451303870432, 23.274829938186702], [42.7145117795406, 23.274832172464205], [42.71451172782686, 23.274832198373627], [42.714520902787015, 23.274826864464544], [42.71451916990643, 23.274826524235117], [42.71452266116954, 23.274821603668695], [42.71452047676856, 23.274828839120033], [42.71453047693653, 23.274825518688957], [42.71453243316293, 23.27482554706016], [42.71453310885184, 23.274823354665482], [42.71453493901651, 23.274819049421197], [42.71454158207514, 23.274811571255537], [42.714538210398395, 23.274816527718663], [42.71454341302929, 23.27481437819836], [42.71454480042735, 23.274811193097275], [42.714549919999314, 23.274812012980316], [42.714551055008116, 23.274811490986863], [42.71455161491167, 23.27480289379082], [42.714557408033244, 23.274803242317358], [42.714561927999206, 23.274810101765592], [42.714564679696686, 23.274807794946003], [42.7145674891643, 23.274799620759357]]], ["optimal", [[42.69761277111755, 23.323625211164906], [42.697638858114615, 23.323637843925813], [42.69766428736468, 23.323640255361457], [42.69768930596286, 23.323638149117937], [42.697713637419746, 23.3236319182821], [42.69773734915872, 23.323622661287537], [42.697760447400846, 23.32361126235156], [42.697783041761014, 23.323598211495973], [42.69780513375416, 23.3235838357883], [42.69782676294361, 23.323568411841485], [42.697847982038724, 23.323552061899708], [42.697868791954825, 23.323534885244918], [42.69788917786062, 23.323516976333], [42.69790919176208, 23.323498406866463], [42.69792882739972, 23.323479159065453], [42.697948059321064, 23.323459294357466], [42.69796688603826, 23.323438848688472], [42.69798533139506, 23.323417848807463], [42.69800338459355, 23.32339627572603], [42.698021025410156, 23.323374146969066], [42.698038227076054, 23.323351482267057], [42.69805500134398, 23.323328328296213], [42.69807135820553, 23.323304672033245], [42.698087261093455, 23.32328049517144], [42.698102683387106, 23.32325582450169], [42.69811762073551, 23.323230689723488], [42.698132078126264, 23.32320511218288], [42.698146047708896, 23.323179090143878], [42.69815948552509, 23.323152610725995], [42.69817236708117, 23.32312569945172], [42.69818470695493, 23.32309839764297], [42.69819650152997, 23.323070719386898], [42.698207715630154, 23.32304266508528], [42.69821832910424, 23.32301425259905], [42.69822832491799, 23.32298549641772], [42.69823772678124, 23.322956441033412], [42.698246506760334, 23.322927102504114], [42.69825464379136, 23.322897499316742], [42.69826212321008, 23.322867640549273], [42.69826897180948, 23.322837566383654], [42.698275169674694, 23.32280730617868], [42.69828071006281, 23.322776882084217], [42.69828559079827, 23.322746309263486], [42.69828982785194, 23.32271562157626], [42.698293409410496, 23.322684835893813], [42.69829636038625, 23.32265398338845], [42.69829867149103, 23.32262308252411], [42.698300368175474, 23.32259216588543], [42.69830143246786, 23.3225612257403], [42.698301926073135, 23.32253029755566], [42.69830182049374, 23.322499413081292], [42.69830115438882, 23.32246856035229], [42.698299933694145, 23.32243775266725], [42.698298199098765, 23.32240701952358], [42.698295943386654, 23.322376375705787], [42.698293199008354, 23.322345791110802], [42.69828999583715, 23.322315306048797], [42.69828634197234, 23.322284908005464], [42.698282283097086, 23.322254593769667], [42.69827783091996, 23.322224387638048], [42.698273022059375, 23.32219425745931], [42.698267898768265, 23.322164176199266], [42.69826253117982, 23.322134178139965], [42.6982569527393, 23.322104243917344], [42.69825126640577, 23.322074259207433], [42.69824594822649, 23.322044145328615], [42.6982405796893, 23.322014012543345], [42.69823512663215, 23.321983791903392], [42.698229505574936, 23.321953564754768], [42.69822368644308, 23.3219233434722], [42.698217675335314, 23.321893095141093], [42.69821151690148, 23.321862813476365], [42.69820523169443, 23.321832500201104], [42.69819883446419, 23.32180214126774], [42.69819236292947, 23.32177170952326], [42.69818584239262, 23.32174120598897], [42.69817935773682, 23.32171058293513], [42.69817304569629, 23.321679779336286], [42.69816699588428, 23.32164877134534], [42.698161323412656, 23.32161750219618], [42.698156227015474, 23.32158590250362], [42.69815198778427, 23.32155389506576], [42.698149046449885, 23.32152137538061], [42.69814804753017, 23.32148819118865], [42.698149702079945, 23.321454267287393], [42.69815175943906, 23.321420453913895], [42.698154277061015, 23.32138678066858], [42.69815733658864, 23.321353335173285], [42.69816095704707, 23.321320189082822], [42.698165194401156, 23.32128739964275], [42.698170056533, 23.32125502014864], [42.69817554666529, 23.32122307174097], [42.69818162925628, 23.321191512478634], [42.69818822363498, 23.321160206716705], [42.69819388428788, 23.32112891290988], [42.69819634652945, 23.321097247030043], [42.69819874595346, 23.321064870445685], [42.69819811407347, 23.32103163690291], [42.698194867355404, 23.320997754010246], [42.698189128004344, 23.320963738420442], [42.69818088512494, 23.32093027394906], [42.69817013152522, 23.320898086669313], [42.698156806877094, 23.320867700432636], [42.69814053302121, 23.320839674313017], [42.6981209535294, 23.32081577872752], [42.69809893278652, 23.320797900182153], [42.698076173106294, 23.32078483892231], [42.698053163815736, 23.320775096553938], [42.698030069016326, 23.320767550628855], [42.698006930360386, 23.32076160378525], [42.69798379192346, 23.320756793698244], [42.697960678250745, 23.320752775301507], [42.697937622393276, 23.32074916459912], [42.697914668987885, 23.32074556273632], [42.69789186215274, 23.320741437646685], [42.69786927240491, 23.32073602711911], [42.69784702662619, 23.32072822799332], [42.697825248783374, 23.320716401150303], [42.69780371070133, 23.32070131304741], [42.69778193529134, 23.32068657363494], [42.69775993208073, 23.320672197192483], [42.69773772481789, 23.320658136844507], [42.69771532110982, 23.32064441969439], [42.69769273529964, 23.32063101747264], [42.69766996422714, 23.32061794055015], [42.697647013862046, 23.320605192069618], [42.69762388536887, 23.320592772699662], [42.69760056183002, 23.320580688110823], [42.6975768832111, 23.320573328437913], [42.69755288958595, 23.320571713231782], [42.697528861475575, 23.32057052690398], [42.69750475823252, 23.3205723212128], [42.69748064859686, 23.32057534836411], [42.69745657811821, 23.32057931491127], [42.69743253666616, 23.320584112986754], [42.697408570404484, 23.320589659088768], [42.697384663952725, 23.320595920043615], [42.6973608583415, 23.320602946451398], [42.69733718820385, 23.320610734863404], [42.69731364212834, 23.3206193667336], [42.69729030570683, 23.32062898088952], [42.69726724476161, 23.320639625537556], [42.69724451602633, 23.32065145580931], [42.69722224054689, 23.320664649725707], [42.69720058733918, 23.320679407958384], [42.69717978475377, 23.32069594167931], [42.697160142993134, 23.320714464508015], [42.697142111964396, 23.32073519464233], [42.697126301503324, 23.320758245511318], [42.697113380299335, 23.320783462069976], [42.697103922044576, 23.320810501349687], [42.697097912549594, 23.320838741365858], [42.69709474204602, 23.320867550191476], [42.69709390388185, 23.32089667120384], [42.697094947484146, 23.320925897023788], [42.69709758338441, 23.320955117468984], [42.697101489874385, 23.32098432640694], [42.69710642720885, 23.32101348686403], [42.69711217906557, 23.321042638858902], [42.697118525848964, 23.321071814739902], [42.69712526824247, 23.321101031726165], [42.69713219043927, 23.321130333488544], [42.69713905264713, 23.321159829494203], [42.69714478253491, 23.32118988818487], [42.69715018765729, 23.321220221150142], [42.69715532938777, 23.32125082089967], [42.69716020591042, 23.3212816762946], [42.69716482300862, 23.32131274856861], [42.69716916472678, 23.321344029107248], [42.69717322195416, 23.321375497473294], [42.69717697474655, 23.321407145448912], [42.69718040696601, 23.321438945600775], [42.69718350910726, 23.321470884140187], [42.69718627045971, 23.321502954271843], [42.69718867597453, 23.321535133638587], [42.69719072578508, 23.321567406608906], [42.6971924104662, 23.321599768801573], [42.697193718515976, 23.32163219094148], [42.69719466196792, 23.321664652004575], [42.69719524539327, 23.32169714905429], [42.697195461060346, 23.321729664260452], [42.69719532233156, 23.32176217727773], [42.69719484432589, 23.321794676257362], [42.69719404068062, 23.32182714590305], [42.69719291961904, 23.321859571444936], [42.69719150894861, 23.32189194384476], [42.697189848488975, 23.321924250787948], [42.69718798345033, 23.32195647672645], [42.697185976916714, 23.321988595956817], [42.69718390989869, 23.322020601441995], [42.69718193050137, 23.322052493453555], [42.69718024510738, 23.322084244159445], [42.697179162606155, 23.322115826969977], [42.69717915440262, 23.32214720304552], [42.697180936709664, 23.322178335698876], [42.69718268138678, 23.3222094928648], [42.69718425030826, 23.32224069215764], [42.697185649016426, 23.32227192149099], [42.69718688221478, 23.3223031805664], [42.69718795898201, 23.32233445466338], [42.697188863800996, 23.322365758225693], [42.69718961484892, 23.322397107477777], [42.697190226336055, 23.322428487551505], [42.697190706362434, 23.322459897556836], [42.69719106457325, 23.32249133484541], [42.69719130274947, 23.322522800945578], [42.69719142701431, 23.32255430892137], [42.69719145618763, 23.32258585912338], [42.69719140420362, 23.32261744698751], [42.6971912839794, 23.322649072819264], [42.69719110312859, 23.32268074389441], [42.69719087905638, 23.322712466834332], [42.69719063056818, 23.322744240679736], [42.697190370211665, 23.32277607463844], [42.697190122891264, 23.322807974090242], [42.697189913693514, 23.322839935144177], [42.69718975567157, 23.322871970048176], [42.69718966791819, 23.322904104401573], [42.69718970735912, 23.322936320959787], [42.69718987912113, 23.322968630205075], [42.69719022496454, 23.32300106251873], [42.697190819519015, 23.32303357947646], [42.697193888087845, 23.323066136711745], [42.697197936811534, 23.323098683027453], [42.69720274229848, 23.323131186927853], [42.69720827006262, 23.323163596999116], [42.69721443931187, 23.323195923108557], [42.69722135686766, 23.3232280344579], [42.69722897013523, 23.32325985552931], [42.69723742067479, 23.323291326001733], [42.69724675042571, 23.32332225944126], [42.69725705131377, 23.323352515886913], [42.69726839289157, 23.323381914389476], [42.69728088956118, 23.323410182553573], [42.697294572720196, 23.323437048109938], [42.697309452381916, 23.323462240387553], [42.697325525943064, 23.32348544385228], [42.697342835814034, 23.32350619852318], [42.6973611922773, 23.323524316563557], [42.6973804497162, 23.323539549282597], [42.697400404902524, 23.32355178655995], [42.69742097082379, 23.323560851906073], [42.69744183666127, 23.323567348279486], [42.69746292613827, 23.32357164551118], [42.697484096727415, 23.323574521574017], [42.69750536251211, 23.32357661757053], [42.69752684682249, 23.323579118677483], [42.69754869022994, 23.323583448437248], [42.69757135935512, 23.32359164693554], [42.69759479615661, 23.32359808313026]]]];
  for (const [name, pts] of lines) {
    if (!pts || pts.length < 2) continue;
    const pl = L.polyline(pts).addTo(map);
    bounds.push(pl.getBounds());
    addLegend(name);
  }

  if (bounds.length) {
    let b = bounds[0];
    for (let i=1;i<bounds.length;i++) b = b.extend(bounds[i]);
    map.fitBounds(b.pad(0.10));
  }
</script>
</body>
</html>
